/**
 * Copyright (c) 2014, 2017, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise"],function(a,g){a.Yd=function(a,b,d){this.fa=b;this.D=a;this.wd=!1;this.Mqa(d);this.Init()};a.f.xa(a.Yd,a.f,"oj.DataSourceContentHandler");a.Yd.prototype.Init=function(){a.Yd.O.Init.call(this)};a.f.j("DataSourceContentHandler.prototype.Init",{Init:a.Yd.prototype.Init});a.Yd.prototype.wl=function(){};a.Yd.prototype.JD=function(){};a.Yd.prototype.Th=function(){null!=this.I4&&(this.fa=this.I4);g(this.fa).empty();
this.I4=this.fa=this.D=null};a.Yd.prototype.cA=function(){return!this.wd};a.Yd.prototype.l5=function(){this.dk()?this.fa.setAttribute("role","grid"):this.yl()?this.fa.setAttribute("role","tree"):this.fa.setAttribute("role","listbox")};a.Yd.prototype.U6=function(){var a,b;this.bc();this.l5();this.dk()&&this.Jh()&&!this.yl()&&(a=document.createElement("li"),b=document.createElement("ul"),a.appendChild(b),g(a).attr("role","presentation").css("width","100%"),g(b).attr("role","row").addClass(this.D.kh()),
this.fa.appendChild(a),this.I4=this.fa,this.fa=b);this.Uq(!1);this.Tb()};a.Yd.prototype.sg=function(a){return a.key};a.Yd.prototype.Ve=function(a){var b,d,e;b=g(this.fa).find("."+this.D.Hg());for(d=0;d<b.length;d++)if(e=b[d],a==this.sg(e))return e;return null};a.Yd.prototype.bna=function(){return this.gb};a.Yd.prototype.Mqa=function(a){this.gb=a};a.Yd.prototype.Uq=function(){this.D.WD()};a.Yd.prototype.p2=function(a,b,d,e,f){var h,k;h=document.createElement("li");g(h).uniqueId();k=g(a).children("."+
this.D.Hg()+", .oj-listview-no-data-message");a.insertBefore(h,b===k.length?null:k[b]);k=g(a).children().index(h);this.f$(h,k,a,b,d,e,f)};a.Yd.prototype.NTa=function(a,b,d,e,f){var h,k,l;this.bc();h=a.parentNode;k=g(h).children().index(a);l=document.createElement("li");g(a).replaceWith(l);this.f$(l,k,h,b,d,e,f)};a.Yd.prototype.f$=function(a,b,d,e,f,h,k){var l;void 0==k&&(k=this.Xy.bind(this));e=this.L2(e,f,h,a);h=this.D.HCa();null!=h?(h=h.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof
DocumentFragment?a.appendChild(h):null==h.parentNode&&h.toString&&(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),a.appendChild(l)))):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==f?"":f.toString())),a.appendChild(l));a=d.children[b];e.parentElement=a;g.data(a,"data",f);k(a,e)};a.Yd.prototype.Xy=function(a,b){var d;a.key=b.key;a=g(a);a.uniqueId();d=this.D.MQ(a);this.dk()?void 0==b.leaf||b.leaf?this.Jh()?d.attr("role","gridcell"):
(a.attr("role","row"),d!=a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):a.attr("role","presentation"):(d.attr("role",this.yl()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.D.xn());this.rD(b)||a.addClass("oj-skipfocus");a.addClass(this.D.Hg())};a.Yd.prototype.L2=function(a,b,d,e){var f,g;f={};f.parentElement=e;f.index=a;f.data=b;f.component=this.D.md();f.datasource=this.gb;this.D.Mr&&(f=
this.D.Mr(f));for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f};a.Yd.prototype.rD=function(a){return this.D.o3(a)};a.Yd.prototype.iR=function(a){return this.D.ona(a)};a.Yd.prototype.Jh=function(){return this.D.Jh()};a.Yd.prototype.dk=function(){return this.D.mA()};a.Yd.prototype.bc=function(){this.D&&this.D.bc()};a.Yd.prototype.Tb=function(){this.D&&this.D.Tb()};a.kc=function(c,b,d){a.kc.O.constructor.call(this,c,b,d)};a.f.xa(a.kc,a.Yd,"oj.TableDataSourceContentHandler");a.kc.prototype.Init=function(){a.kc.O.Init.call(this)};
a.kc.prototype.yl=function(){return!1};a.kc.prototype.Th=function(){a.kc.O.Th.call(this);this.CH();null!=this.xD&&(this.xD.destroy(),this.u4=this.xD=null);this.qJ=null};a.kc.prototype.wl=function(a,b){this.li()&&void 0!=this.Uv&&this.Uv!=b&&(this.Uv=b,this.checkViewport())};a.kc.prototype.JD=function(){this.li()&&this.checkViewport()};a.kc.prototype.li=function(){return"loadMoreOnScroll"==this.D.options.scrollPolicy?!0:!1};a.kc.prototype.jq=function(){return Math.max(0,this.D.options.scrollPolicyOptions.fetchSize)};
a.kc.prototype.nq=function(){var c=this.D.options.scrollPolicyOptions.scroller;return null!=c&&g.contains(c,this.fa)?(this.Dx=a.Wf.UOa(c,this.fa),c):this.D.Rj()};a.kc.prototype.sY=function(){return this.D.options.scrollPolicyOptions.maxCount};a.kc.prototype.Mqa=function(c){var b;this.CH();if(null!=c){this.li()&&(b=this,this.u4=function(a){null!=a?(b.bc(),b.m0(),b.cA()&&b.bc(),b.qZ(a),a.maxCountLimit?b.wZ():b.x$(),b.Tb(),b.Tb()):void 0===a&&(b.m0(),b.Tb())},this.xD=new a.Wf(this.nq(),c,{fetchSize:this.jq(),
fetchTrigger:this.Dx,maxCount:this.sY(),success:this.u4,error:this.Tb}),this.xD.xZ=function(c,e){1>=e-c&&b.bc();a.Wf.prototype.xZ.call(this,c,e)});this.kpa=this.FRa.bind(this);this.jpa=this.ERa.bind(this);this.fpa=this.ARa.bind(this);this.ipa=this.CRa.bind(this);this.gpa=this.BRa.bind(this);this.xR=this.DRa.bind(this);if(a.Na&&c instanceof a.Na)c.on("sync",this.kpa);c.on("sort",this.jpa);c.on("add",this.fpa);c.on("remove",this.ipa);c.on("change",this.gpa);c.on("reset",this.xR);c.on("refresh",this.xR)}this.gb=
c};a.kc.prototype.x$=function(){var a,b;null==this.qJ&&(a=g(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.D.ig()).addClass("oj-listview-loading-icon-container"),b=g(document.createElement("div")),b.addClass("oj-icon oj-listview-loading-icon"),a.append(b),g(this.fa).append(a),this.qJ=a)};a.kc.prototype.m0=function(){null!=this.qJ&&this.qJ.remove();this.qJ=null};a.kc.prototype.Xy=function(c,b){var d;a.kc.O.Xy.call(this,c,b);g(c).addClass(this.D.ig());this.D.Qc()&&
this.iR(b)&&this.D.Nf(g(c)).attr("aria-selected",!1);this.li()&&(d=Math.min(this.gb.totalSize(),this.sY()),-1===d&&(d=this.sY()),0<d&&g(c).attr("aria-setsize",d).attr("aria-posinset",b.index+1));this.D.nz(c,b)};a.kc.prototype.sOa=function(a,b){var d,e;this.bc();this.Xy(a,b);d=g(a);d.outerHeight();e=this.D.ig();d.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");d.removeClass(e).addClass("oj-listview-item-add-remove-transition");d.children().first().addClass(e);this.bc();var f=this;this.D.Pw(a,"add").then(function(){f.WDa(b,
a)});this.Tb()};a.kc.prototype.wZ=function(){a.C.error("max count reached")};a.kc.prototype.CH=function(){null!=this.gb&&(this.gb.off("sync",this.kpa),this.gb.off("sort",this.jpa),this.gb.off("add",this.fpa),this.gb.off("remove",this.ipa),this.gb.off("change",this.gpa),this.gb.off("reset",this.xR),this.gb.off("refresh",this.xR))};a.kc.prototype.MMa=function(a){return this.li()&&null!=a&&a.keys&&0<a.keys.length&&(-1==this.gb.totalSize()||this.gb.totalSize()>a.keys.length)};a.kc.prototype.Aga=function(){return a.Na&&
this.gb instanceof a.Na};a.kc.prototype.Uq=function(c){var b=!0,d;this.bc();if(this.cA()&&(this.wd=!0,a.kc.O.Uq.call(this,c),this.Aga()&&(b=!1,this.bc()),b||c)){b&&this.bc();c={fetchType:"init",startIndex:0};this.li()&&(c.pageSize=this.jq());d=this;c=this.gb.fetch(c);c.then(function(a){null!=d.D&&b&&(g(d.fa).empty(),d.qZ(a),d.MMa(a)&&(d.x$(),d.D.tS()))},function(a){d.ys(a);d.Tb()});this.Tb();return}this.Tb()};a.kc.prototype.ys=function(c){a.C.error(c);this.li()&&this.m0();this.D.iw()};a.kc.prototype.Lu=
function(a,b){var d,e,f;d=this.fa.childElementCount;for(e=0;e<a.length;e++)f=a[e],this.p2(this.fa,d,f,this.getMetadata(d,b[e],f)),d+=1};a.kc.prototype.ARa=function(a){var b,d,e;if(null!=this.fa){this.bc();b=a.data;d=a.keys;a=a.indexes;if(null!=b&&null!=d&&0<d.length&&0<b.length&&d.length==b.length&&null!=a&&d.length==a.length){for(e=0;e<b.length;e++)this.bc(),this.p2(this.fa,a[e],b[e],this.getMetadata(a[e],d[e],b[e]),this.sOa.bind(this)),this.Tb();this.cA()&&this.bc();this.Dma()}this.Tb()}};a.kc.prototype.WDa=
function(a,b){null!=this.D&&(g(b).removeClass("oj-listview-item-add-remove-transition").addClass(this.D.ig()).children().children().unwrap(),this.D.Ooa(b,a));this.Tb()};a.kc.prototype.CRa=function(a){var b,d;a=a.keys;if(null!=this.fa&&null!=a&&0!=a.length){this.bc();for(b=0;b<a.length;b++)d=this.Ve(a[b]),null!=d&&(this.bc(),this.xKa(d),this.Tb());this.D.rw();this.Tb()}};a.kc.prototype.xKa=function(a){var b,d=this;this.bc();b=this.D.ig();a=g(a);a.children().wrapAll("\x3cdiv class\x3d'"+b+"'\x3e\x3c/div\x3e");
a.removeClass(b).addClass("oj-listview-item-add-remove-transition");this.bc();b=a.get(0);this.D.Pw(b,"remove").then(function(){d.FFa(a)});this.Tb()};a.kc.prototype.FFa=function(a){if(null!=this.D){a=g(a);var b=a.parent();0!=b.length&&(this.D.f4(a.get(0)),a.remove(),0==b.get(0).childElementCount&&this.D.iw())}this.Tb()};a.kc.prototype.BRa=function(a){var b,d,e,f;b=a.keys;if(null!=this.fa&&null!=b&&0!=b.length){this.bc();d=a.data;a=a.indexes;for(e=0;e<b.length;e++)f=this.Ve(b[e]),null!=f&&(this.bc(),
this.NTa(f,a[e],d[e],this.getMetadata(a[e],b[e],d[e]),this.rOa.bind(this)),this.Tb());this.D.rw();this.Tb()}};a.kc.prototype.rOa=function(a,b){var d=this;this.bc();this.Xy(a,b);this.D.Pw(a,"update").then(function(){d.GFa(a)});this.Tb()};a.kc.prototype.GFa=function(a){null!=this.D&&(g(a).removeClass("oj-listview-item-add-remove-transition"),this.D.WTa());this.Tb()};a.kc.prototype.DRa=function(){null!=this.fa&&(this.bc(),this.D.rw(),this.Uq(this.Aga()?!1:!0),this.Tb())};a.kc.prototype.qZ=function(a){var b;
null!=this.fa&&(b=a.data,a=a.keys,Array.isArray(b)&&Array.isArray(a)&&b.length==a.length&&(this.Lu(b,a),this.Dma()))};a.kc.prototype.FRa=function(a){null!=this.fa&&(this.bc(),0===a.startIndex&&g(this.fa).empty(),this.D.rw(),this.qZ(a),this.Tb())};a.kc.prototype.ERa=function(){null!=this.fa&&(this.bc(),this.D.rw(),this.D.Lo()&&this.D.Wl(!0),this.Uq(!0),this.Tb())};a.kc.prototype.Dma=function(){this.wd=!1;this.D.iw();this.checkViewport();this.Tb()};a.kc.prototype.checkViewport=function(){var a=this,
b;this.bc();null!=this.xD&&0<this.gb.totalSize()&&this.cA()&&(b=this.xD.checkViewport(),null!=b&&(this.bc(),b.then(function(b){a.u4(b);a.Tb()},null)));this.Tb()};a.kc.prototype.getMetadata=function(a,b,d){d=d.context;null==d&&(d={});null==d.index&&(d.index=a);null==d.key&&(d.key=b);return d};a.Bj=function(c,b,d){a.Bj.O.constructor.call(this,c,b,d)};a.f.xa(a.Bj,a.Yd,"oj.TreeDataSourceContentHandler");a.Bj.prototype.Init=function(){a.Bj.O.Init.call(this)};a.Bj.prototype.yl=function(){return!0};a.Bj.prototype.Uq=
function(c){this.bc();a.Bj.O.Uq.call(this,c);this.fetchChildren(0,null,this.fa,null);this.Tb()};a.Bj.prototype.fetchChildren=function(a,b,d,e){this.bc();this.wd=!0;a={start:a,count:this.gb.getChildCount(b)};this.gb.fetchChildren(b,a,{success:function(a){this.Lu(a,b,d,e)}.bind(this),error:function(a){this.ys(a)}.bind(this)});this.Tb()};a.Bj.prototype.Lu=function(a,b,d,e){var f,h,k,l,m;this.bc();f=a.getStart();h=a.getCount();for(k=0;k<h;k++)l=a.getData(f+k),m=a.getMetadata(f+k),this.p2(d,f+k,l,m);this.dk()&&
this.Jh()&&null!=b&&1<h&&g(d.parentNode.firstElementChild.firstElementChild).attr("aria-colspan",h);this.wd=!1;null!=e&&e.call(null,d);this.D.iw();this.kj=!0;this.Tb()};a.Bj.prototype.Xy=function(c,b){var d,e,f,h,k,l;this.bc();a.Bj.O.Xy.call(this,c,b);d=this.D.kh();e=this.D.ig();f=this.D.hg(!0);h=this.D.fz();l=this.D.fp();k=this.D.xn();c=g(c);!1==b.leaf?(c.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),c.hasClass(k)?c.removeClass(k).children().first().addClass(k).attr("aria-expanded","false"):c.children().first().attr("role",
"presentation").find("."+k).attr("aria-expanded","false"),e=c.children().first(),e.uniqueId().addClass(f),this.D.qD()&&(c.addClass("oj-collapsed"),f=document.createElement("a"),g(f).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(f)),this.dk()&&(e.get(0).removeAttribute("aria-expanded"),e.removeClass(k),e.attr("role","row"),e.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+
k+"'\x3e\x3c/div\x3e")),k=document.createElement("ul"),g(k).addClass(d).addClass(h).attr("role",this.dk()?this.Jh()?"row":"presentation":"group"),c.append(k)):!0==b.leaf&&c.addClass(e);this.D.Qc()&&this.iR(b)&&this.D.Nf(c).attr("aria-selected",!1);this.D.nz(c[0],b);this.Tb()};a.Bj.prototype.ys=function(c){this.bc();a.C.error(c);this.D.iw();this.Tb()};a.Bj.prototype.Yz=function(a,b){var d,e;this.bc();d=this.sg(a[0]);e=a.children("ul")[0];this.fetchChildren(0,d,e,b);this.Tb()};a.Bj.prototype.Wz=function(a){a.empty()};
a.ae=function(a,b){this.D=a;this.fa=b};a.f.xa(a.ae,a.f,"oj.StaticContentHandler");a.ae.prototype.Init=function(){a.ae.O.Init.call(this)};a.ae.prototype.Th=function(){this.fa.hasAttribute("role")&&(this.Cqa(this.fa,0),this.WUa(),this.dk()&&this.Jh()&&!this.yl()&&g(this.fa).children().first().children().unwrap().children().unwrap())};a.ae.prototype.cA=function(){return!0};a.ae.prototype.wl=function(){};a.ae.prototype.JD=function(){};a.ae.prototype.U6=function(){var a=this.fa;this.dk()&&this.Jh()&&!this.yl()&&
(g(this.fa).children().wrapAll("\x3cli role\x3d'presentation' style\x3d'width:100%'\x3e\x3cul role\x3d'row' class\x3d'"+this.D.kh()+"'\x3e\x3c/ul\x3e\x3c/li\x3e"),a=g(this.fa).children("li").first().children("ul").first().get(0));this.Kpa(a,0);this.l5();this.D.iw()};a.ae.prototype.Yz=function(a,b){var d;d="."+this.D.kh();d=g(a).children(d)[0];g(d).css("display","");b.call(null,d)};a.ae.prototype.Wz=function(){};a.ae.prototype.yl=function(){null==this.z4&&(this.z4=0<g(this.fa).children("li").children("ul").length);
return this.z4};a.ae.prototype.Cqa=function(a,b){var d,e,f,h,k,l,m,p,t,s;d=this.D.kh();e=this.D.fz();f=this.D.WC();h=this.D.hg(!0);k=this.D.ig();l=this.D.Hg();m=a.children;for(p=0;p<m.length;p++)t=m[p],this.UUa(t),t=g(t),t.removeClass(l).removeClass(k).removeClass(this.D.k3(b)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),s=t.children("ul"),0<s.length&&(t.children("."+h).children().unwrap(),
this.dk()&&this.VUa(t),t.children(".oj-component-icon").remove(),t=g(s[0]),t.removeClass(d).removeClass(f).removeClass(e).removeAttr("role"),this.Cqa(t[0],b+1))};a.ae.prototype.Kpa=function(a,b){var d,e,f,h,k,l,m,p,t,s,n,r,q,u,v,w;d=this.D.ig();e=this.D.Hg();f=this.D.kh();h=this.D.hg(!0);k=this.D.fz();l=this.D.fp();m=this.D.xn();p=a.children;t=this.D.qD();for(s=0;s<p.length;s++)n=g(p[s]),r=this.L2(n),this.gUa(n,r),n.uniqueId().addClass(e),0<b&&n.addClass(this.D.k3(b)),this.rD(r)||n.addClass("oj-skipfocus"),
q=n.children("ul"),0<q.length?(this.z4=!0,n.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),u=n.children().first(),u.addClass(h),w=this.vQa(q[0]),0<w&&(n.hasClass(m)?(n.removeClass(m),u.addClass(m).attr("aria-expanded","false")):(u.attr("role","presentation"),u.find("."+m).attr("aria-expanded","false")),t&&(n.addClass("oj-collapsed"),u.uniqueId(),v=document.createElement("a"),g(v).attr("href","#").attr("role","button").attr("aria-labelledby",u.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),
u.prepend(v))),this.dk()&&this.lUa(u,w),q=g(q[0]),q.addClass(f).addClass(k).attr("role",this.dk()?this.Jh()?"row":"presentation":"group").css("display","none"),this.Kpa(q[0],b+1)):n.addClass(d),this.D.Qc()&&this.iR(r)&&this.D.Nf(n).attr("aria-selected",!1),this.D.nz(n[0],r)};a.ae.prototype.l5=function(){this.dk()?this.fa.setAttribute("role","grid"):this.yl()?this.fa.setAttribute("role","tree"):this.fa.setAttribute("role","listbox")};a.ae.prototype.WUa=function(){this.fa.removeAttribute("role")};a.ae.prototype.vQa=
function(a){return g(a).children("li").length};a.ae.prototype.L2=function(a){var b;b={};b.key=a.attr("id");b.parentElement=a.children().first()[0];b.index=a.index();b.data=a[0];b.component=this.D.md();this.yl()&&(b.leaf=0==a.children("ul").length,a=a.parents("li."+this.D.Hg()),b.depth=a.length,b.parentKey=0==a.length?null:a.first().attr("id"));return b};a.ae.prototype.gUa=function(a,b){var d=this.D.MQ(a);this.dk()?void 0==b.leaf||b.leaf?this.Jh()?d.attr("role","gridcell"):(a.attr("role","row"),d!=
a?d.attr("role","gridcell"):d.children().wrapAll("\x3cdiv role\x3d'gridcell' class\x3d'oj-listview-cell-element'\x3e\x3c/div\x3e")):(a.attr("role","presentation"),d!=a&&d.attr("role","gridcell")):(d.attr("role",this.yl()?"treeitem":"option"),d!=a&&a.attr("role","presentation"));d.addClass(this.D.xn())};a.ae.prototype.lUa=function(a,b){var d=this.D.xn();a.get(0).removeAttribute("aria-expanded");a.removeClass(d);a.attr("role","row");a.children().wrapAll("\x3cdiv role\x3d'gridcell' aria-expanded\x3d'false' class\x3d'oj-listview-cell-element "+
d+"'\x3e\x3c/div\x3e");this.Jh()&&1<b&&a.children().first().attr("aria-colspan",b)};a.ae.prototype.VUa=function(a){a.children("div").first().children().unwrap()};a.ae.prototype.UUa=function(a){var b=this.D.MQ(g(a));b.removeAttr("role");b.removeAttr("aria-selected");b.removeAttr("aria-expanded");b.removeClass(this.D.xn());this.dk()&&!this.Jh()&&(b!=a?(g(a).removeAttr("role"),b.children().first().children().unwrap()):b.children().first().children().unwrap().children().unwrap())};a.ae.prototype.sg=function(a){return g(a).attr("id")};
a.ae.prototype.Ve=function(a){return document.getElementById(a)};a.ae.prototype.rD=function(a){return this.D.o3(a)};a.ae.prototype.iR=function(a){return this.D.ona(a)};a.ae.prototype.Jh=function(){return this.D.Jh()};a.ae.prototype.dk=function(){return this.D.mA()};a.I_=function(c,b){function d(){}a.f.xa(d,c,"");d.prototype=g.extend(d.prototype,b);return d}(Object,{bf:37,Xf:39,vl:40,Hl:38,AK:9,QS:13,TS:27,US:113,BT:32,eo:0,co:1,V6:2,fVa:0,Bw:1,An:function(c){var b=this,d;this.rr=[];this.element=c.element;
this.bc();this.ea=c.ea;this.$d=c.$d;this.options=c;this.element.uniqueId().addClass(this.cT()+" oj-component-initnode");this.zK();"undefined"!=typeof a.jb&&(this.Qf=d=new a.jb(this),this.ea._on(this.element,{dragstart:function(a){return d.lZ(a)},dragenter:function(a){return d.iZ(a)},dragover:function(a){return d.kZ(a)},dragleave:function(a){return d.jZ(a)},dragend:function(a){return d.hZ(a)},drag:function(a){return d.sEa(a)},drop:function(a){return d.mZ(a)}}));this.ea._on(this.element,{click:function(a){b.kT(a)},
touchstart:function(a){b.gK(a)},touchend:function(a){b.kE(a)},touchcancel:function(a){b.kE(a)},mousedown:function(a){0===a.button?b.gia()||b.gK(a):b.uJ=!0},mouseup:function(a){b.efa(a);b.uJ=!1},mouseout:function(a){b.cfa(a)},mouseover:function(a){b.wFa(a)},keydown:function(a){b.fK(a)},ojpanmove:function(a){b.efa(a)}});this.ea._on(this.ea.element,{focus:function(a){b.Cr(a)},blur:function(a){b.Br(a)}});a.Ra.qm().browser===a.Ra.zi.$J&&this.ah().attr("tabIndex",-1);this.Bw===this.Bw?this.ea._on(this.ea.element,
{focusin:function(a){b.Cr(a)},focusout:function(a){b.rsa(a)}}):this.ea._on(this.element,{focus:function(a){b.Cr(a)},blur:function(a){b.Br(a)}});this.ea.document.bind("touchend.ojlistview touchcancel.ojlistview",this.kE.bind(this));this.tia();this.ea._focusable({applyHighlight:!0,recentPointer:b.T6(),setupHandlers:function(a,c){b.oB=a;b.Hx=c}})},EC:function(){var a;this.Pxa();this.gu();this.Kfa();a=this.ah();this.Ro(a[0]);this.Tb()},refresh:function(){this.Qia();this.bc();this.wK();this.gu();this.Kfa();
this.tia();this.Tb()},whenReady:function(){return this.qqa},destroy:function(){this.element.removeClass(this.cT()+" oj-component-initnode");this.Iq(this.ah());this.Qia();a.Q.unwrap(this.element,this.ah());this.ea.document.off(".ojlistview")},Qia:function(){var a=this;this.o7();this.oya(this.element);null!=this.Pf&&(this.Pf.Th(),delete this.Pf,this.Pf=null);this.Tv=this.V=null;this.rr=[];this.qqa=new Promise(function(b){a.rqa=b});this.rw();this.lm&&(this.lm(null),this.lm=null);null!=this.Qf&&this.Qf.reset()},
VR:function(){this.tS()},Tpa:function(){this.ah().removeClass("oj-focus-ancestor");null!=this.V&&g(this.V.elem).removeClass("oj-focus oj-focus-highlight");null!=this.A4&&this.Ps(this.A4,"oj-hover")},JD:function(){this.tS();null!=this.Pf&&this.Pf.JD()},getNodeBySubId:function(a){var b;if(null==a)return this.element?this.element[0]:null;b=a.subId;if("oj-listview-disclosure"===b||"oj-listview-icon"===b)if(a=a.key,a=this.Ve(a),null!=a&&(a=g(a).find(".oj-clickable-icon-nocontext").first(),a.hasClass(this.ft())||
a.hasClass(this.fp())))return a.get(0);return null},getSubIdByNode:function(a){if(null!=a&&g(a).hasClass(this.ft())||g(a).hasClass(this.fp()))if(a=this.Zn(a),null!=a&&0<a.length&&(a=this.sg(a[0]),null!=a))return{subId:"oj-listview-disclosure",key:a};return null},getContextByNode:function(a){var b,d,e;a=this.Zn(a);return null!=a&&0<a.length&&(b=this.sg(a[0]),null!=b)?(d=a.parent(),e=d.children("li").index(a),b={subId:"oj-listview-item",key:b,index:e},d.get(0)!=this.element.get(0)&&(b.parent=d.parent().get(0)),
a.children().first().hasClass(this.hg())?b.group=!0:b.group=!1,b):null},getDataForVisibleItem:function(a){var b;b=a.index;a=a.parent;a=null==a?this.element.get(0):g(a).children("ul."+this.kh()).first();b=g(a).children("li").get(b);return null!=b&&g(b).hasClass(this.ig())?this.bda(b):null},bda:function(a){return null==this.Kd("data")?a:g.data(a,"data")},gu:function(a){null!=this.Qf&&this.Qf.oOa(a)},Iq:function(c){c&&this.Fh&&a.Q.zm(c,this.Fh)},Ro:function(c){c&&(null==this.Fh&&(this.Fh=this.wl.bind(this)),
a.Q.Xk(c,this.Fh))},wl:function(a,b){0<a&&0<b&&null!=this.Pf&&this.Pf.wl(a,b)},Zsa:function(){return!0},T6:function(){return function(){return!1}},h7:function(a){return null!=a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||null!=a.scrollPolicy||null!=a.scrollPolicyOptions},mS:function(a){var b,d,e;if(this.h7(a))return null!=a.data&&(null==a.currentItem&&this.zj("currentItem",null),null==a.selection&&this.Wl(!0)),!0;if(null!=a.expanded&&this.Pf.yl()&&(this.$p=void 0,d=a.expanded,
Array.isArray(d))){this.bc();this.Iya();this.Cfa=!0;try{b=this,g.each(d,function(a,c){b.V2(c,!0,!0,!0)})}finally{this.Cfa=void 0,this.Tb()}}null!=a.currentItem?(d=this.Ve(a.currentItem),null!=d&&(d=g(d),this.Aj(d)||((e=document.activeElement)&&this.element.get(0).contains(e)?this.Bm(d,null):this.Zc(d,null,!0)))):null===a.currentItem&&(this.vE(),this.V=null,this.zK());this.hK(a);null!=a.selectionMode&&(this.Wl(!0),this.wK(),this.gta(a.selectionMode));null!=a.contextMenu&&this.gu(a.contextMenu);null!=
a.scrollTop&&(d=this.nq(),e=a.scrollTop,null==e||isNaN(e)||(d.scrollTop=e));null!=this.Qf&&null!=this.V&&null!=a.dnd&&null!=a.dnd.reorder&&("enabled"===a.dnd.reorder.items?this.Qf.Eja(this.V.elem):"disabled"===a.dnd.reorder.items&&this.Qf.LNa(this.V.elem));return!1},hK:function(a){var b,d;if(null!=a.selection&&this.Qc())for(a.selection=this.rBa(a.selection),b=a.selection,this.Wl(!1),d=0;d<b.length;d++)a=this.Ve(b[d]),null!=a&&this.iF(a,b[d])},Gl:function(a,b,d){return this.ea._trigger(a,b,d)},zj:function(a,
b,d){this.ea.option(a,b,d)},Kd:function(a){return this.ea.option(a)},bc:function(){var c=this,b;this.rr&&(0==this.rr.length&&(this.qqa=new Promise(function(a){c.rqa=a}),b=a.Context.getContext(this.element[0]).Ne(),c.lm=b.Ld({})),this.rr.push(1))},Tb:function(){this.rr&&0<this.rr.length&&(this.rr.pop(),0==this.rr.length&&(this.rqa(null),this.lm(null),this.lm=null))},pra:function(a){if(this.rr)for(;0<this.rr.length;)this.Tb();throw a;},uQa:function(a){var b,d=this,e=[];g.each(a,function(a,c){b=d.Ve(c);
null!=b&&e.push(b)});return e},Jh:function(){return this.element.hasClass("oj-listview-card-layout")},mA:function(){return!0},Kfa:function(){var c;this.bc();c=this.Kd("data");null!=c?("undefined"!==typeof a.ha&&"undefined"!==typeof a.Tt||this.pra("oj.TableDataSource or oj.TreeDataSource not found. Ensure the required modules are imported"),c instanceof a.ha?this.Pf=new a.kc(this,this.element[0],c):c instanceof a.Tt?this.Pf=new a.Bj(this,this.element[0],c):this.pra("Invalid data")):this.Pf=new a.ae(this,
this.element[0]);this.WD();this.Pf.U6();this.Tb()},fta:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},wK:function(){this.Lo()?this.element.attr("aria-multiselectable",!0):this.Qc()&&this.element.attr("aria-multiselectable",!1)},o7:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},gta:function(a){var b=this,d,e;"none"==a?(this.element.removeAttr("aria-multiselectable"),a=function(a){b.Nf(a).removeAttr("aria-selected")}):("single"==
a?this.element.attr("aria-multiselectable",!1):this.element.attr("aria-multiselectable",!0),a=function(a){b.Nf(a).attr("aria-selected","false")});d=this.qs();for(e=0;e<d.length;e++)a(g(d[e]))},Pxa:function(){var a,b;a=this.ah();this.wK();b=this.Sxa();a.append(b);this.Nn=b;b=this.Jxa();a.append(b);this.sD=b;this.en()&&null!=this.Qf&&a.append(this.Kxa())},Sxa:function(){var a=g(document.createElement("div"));a.addClass("oj-listview-status-message oj-listview-status").attr({id:this.zx("status"),role:"status"});
return a},Jxa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.zx("info"),role:"status"});return a},Kxa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.zx("instr")});a.text(this.ea.R("accessibleReorderTouchInstructionText"));return a},Gh:function(a){""!=a&&this.sD.text()!=a&&this.sD.text(a)},WD:function(){var a=this.ea.R("msgFetchingData");this.Nn.text(a).css("left",this.element.outerWidth()/
2-this.Nn.outerWidth()/2).show()},kt:function(){this.Nn.hide()},Rj:function(){return this.ah()},ah:function(){null==this.dJ&&(this.dJ=this.vza());return this.dJ},vza:function(){var a;this.$d?a=g(this.$d):(a=g(document.createElement("div")),this.element.parent()[0].replaceChild(a[0],this.element[0]));a.addClass(this.i6()).addClass("oj-component");a.prepend(this.element);return a},hda:function(){return this.ea.R("msgNoData")},qF:function(){var a,b;a=this.hda();b=document.createElement("li");b.id=this.zx("empty");
b.className="oj-listview-no-data-message oj-listview-empty-text";b.textContent=a;return b},Wh:function(a){a=this.Nf(a).attr("aria-expanded");return"true"==a?this.eo:"false"==a?this.co:this.V6},Ow:function(a,b){var d=this.qD();b==this.eo?(this.Nf(a).attr("aria-expanded","true"),d&&a.removeClass("oj-collapsed").addClass("oj-expanded")):b==this.co&&(this.Nf(a).attr("aria-expanded","false"),d&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},nY:function(a,b,d){a=this.options.item[a];return"function"==
typeof a&&d?a.call(this,b):a},o3:function(a){return this.nY("focusable",a,!0)},ona:function(a){return this.o3(a)&&this.nY("selectable",a,!0)},HCa:function(){var a=this.nY("renderer",null,!1);return"function"!=typeof a?null:a},Ooa:function(){},f4:function(a){var b;null!=this.V&&this.V.elem&&g(this.V.elem).get(0)==a&&this.zj("currentItem",null);if(null!=a&&a.id&&null!=this.ir)for(b in this.ir)if(this.ir.hasOwnProperty(b)&&this.ir[b]===a.id){delete this.ir[b];break}},nz:function(a,b){var d,e,f,h;null!=
this.Qf&&this.Qf.nz(a);this.LF(a);if(this.Qc())if(d=this.Kd("selection"),this.zl(a))for(f=0;f<d.length;f++){if(d[f]==b.key&&(this.iF(a,d[f]),!this.Lo())){1<d.length&&(e=g(this.Ve(b.key)),this.zj("selection",[b.key],{_context:{originalEvent:null,kb:!0,al:{items:e}},changed:!0}));break}}else if(f=d.indexOf(b.key),-1<f){d=d.slice(0);d.splice(f,1);e=Array(d.length);for(f=0;f<d.length;f++)e[f]=this.Ve(d[f]);this.zj("selection",d,{_context:{originalEvent:null,kb:!0,al:{items:g(e)}},changed:!0})}this.Pf.yl()&&
void 0==this.Cfa&&this.Wh(g(a))==this.co&&(f=this.Kd("expanded"),this.JB()?void 0==this.$p&&this.Aw(g(a),null,!1,null,!1,!1,!1):Array.isArray(f)&&(h=this,g.each(f,function(d,e){e!=b.key||void 0!=h.$p&&-1!=h.$p.indexOf(e)||h.Aw(g(a),null,!1,null,!1,!1,!1)})));null!=this.V&&b.key==this.V.key&&null!=this.V.elem&&a!=this.V.elem.get(0)&&(this.V.elem=g(a))},iw:function(){var a,b;this.kt();g(document.getElementById(this.zx("empty"))).remove();0==this.element[0].childElementCount?(a=this.qF(),this.element.append(a)):
(this.BD=null,a=this.Kd("currentItem"),null!=a&&(b=this.Ve(a),null==b?this.zj("currentItem",null):null!=this.V||this.Aj(g(b))||this.Bm(g(b),null)),this.ah().hasClass("oj-focus-ancestor")&&null==this.V&&null==a&&this.Pfa(),this.tS());this.Gl("ready",null,{})},tS:function(){var a,b;a=this.Kd("scrollTop");if(!isNaN(a)&&(b=this.nq(),a!=b.scrollTop&&(b.scrollTop=a,b.scrollTop!=a))){this.j1=!0;return}this.j1=!1},WTa:function(){var a=this.Kd("currentItem");null!=a&&(a=this.Ve(a),null==a||this.Aj(g(a))||
this.Bm(g(a),null))},rw:function(){this.y4=this.BD=null},Pw:function(c,b,d){null==d&&(d=this.cz(b));return a.ga.Sn(c,b,d,this.ea)},Spa:function(a,b,d){if(this.kK(g(b.target)))return!1;a=g(b.target).closest("."+this.Hg());0<a.length&&!this.Aj(g(a[0]))&&this.Bm(g(a[0]),null);a=this.element;null!=this.V&&(a=this.V.elem);a={launcher:a,initialFocus:"menu"};"keyboard"===d&&(a.position={my:"start top",at:"start bottom",of:this.V.elem});this.ea.ji(b,d,a)},v6:function(a){return null!=a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},
kK:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=a[0].nodeType){var b=a.attr("tabIndex"),d=a.attr("data-oj-tabindex");if(null!=b&&0<=b&&!a.hasClass(this.xn())&&!a.hasClass("oj-listview-cell-element")||this.v6(a)&&(-1!=b||-1!=d))return!0}a=a.parent()}return!1},LF:function(a,b){var d,e;d=g(a);d.hasClass(this.ig())||(d=g(d.get(0).firstElementChild));d.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){g(this).removeAttr("data-first").removeAttr("data-last");
e=parseInt(g(this).attr("tabIndex"),10);!(isNaN(e)||0<=e)||void 0!==b&&this==document.activeElement||g(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(e)?-1:e)})},pAa:function(a){var b,d;b=this.qs();a=b.index(a);for(d=0;d<=a;d++)this.LF(b[d],!0)},oAa:function(a){var b;b=this.qs();a=b.index(a);if(-1!=a)for(;a<=b.length-1;a++)this.LF(b[a],!0)},WAa:function(a){var b;a=g(a).find("[data-tabmod]").each(function(){b=parseInt(g(this).attr("data-tabmod"),10);g(this).removeAttr("data-tabmod");-1==b?g(this).removeAttr("tabIndex"):
g(this).attr("tabIndex",b)});a.first().attr("data-first","true");a.last().attr("data-last","true")},oya:function(a){g(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},Aj:function(a){return a.hasClass("oj-skipfocus")},a_:function(a){return void 0===a.relatedTarget||null!=a.relatedTarget&&g.contains(this.ea.element.get(0),a.relatedTarget)?!0:!1},Cr:function(a){var b;this.ah().addClass("oj-focus-ancestor");null==this.V?(b=this.Zg(g(a.target)),
this.uJ||this.a_(a)||null!=b&&!this.Aj(b)||this.Pfa(a)):(this.uJ||a.target!==this.ea.element[0]||this.a_(a)||(this.aA(),this.VF(this.V.elem)),this.wT(),this.X0(this.V.elem))},Pfa:function(a){var b,d,e;b=this.qs();for(d=0;d<b.length;d++)if(e=g(b[d]),!this.Aj(e)){this.Bm(e,a);break}},rsa:function(a){this.Br(a)},dNa:function(){var c=a.Ra.qm();return c.browser==a.Ra.zi.$J&&48>parseInt(c.browserVersion,10)?!1:!0},jHa:function(c){var b=a.Ra.qm();return null==c.relatedTarget&&b.browser==a.Ra.zi.mE&&c.target==
this.ea.element.get(0)?!0:!1},Br:function(a){!this.dNa()||this.jHa(a)||this.a_(a)||(this.ah().removeClass("oj-focus-ancestor"),this.vE(),null!=this.V&&this.Uia(this.V.elem),this.zK())},cfa:function(a){a=this.Zn(a.target);null!=a&&(this.A4=null,this.Ps(a,"oj-hover"))},wFa:function(a){this.gia()||(a=this.Zn(a.target),null==a||this.Aj(a)||(this.A4=a,this.bO(a,"oj-hover")))},gia:function(){return 500>Date.now()-this.SHa},fK:function(a){var b,d;if(this.qD()&&(b=a.keyCode,b===this.bf||b===this.Xf))if(d=
this.V.elem,b===this.bf){if(this.Wh(d)==this.eo){this.Lt(d,a,!0,this.V.key,!0,!0);return}}else if(this.Wh(d)==this.co){this.Aw(d,a,!0,this.V.key,!0,!0,!0);return}b=this.s6(a);null!=this.Qf&&(b=b||this.Qf.fK(a));!0===b&&a.preventDefault()},efa:function(a){this.wz&&this.Ps(this.wz,"oj-focus");null!=this.Qf&&this.Qf.dla(g(a.target))},gK:function(a){var b,d;d=g(a.target);null!=this.Qf&&this.Qf.Aja(d);b=this.Zg(d,!0);null!=b&&this.fga(b)&&(this.uJ=!0,b=null);null==b||0==b.length||this.Aj(b)||d.hasClass("oj-listview-drag-handle")||
(this.uJ=!0,this.ah().hasClass("oj-focus-ancestor")||this.ah().addClass("oj-focus-ancestor"),this.wz=b,this.bO(b,"oj-focus"),this.r_(null!=this.V?this.V.elem:null,b),b.get(0).contains(document.activeElement)||this.VF(b),a.originalEvent.touches&&0<a.originalEvent.touches.length&&(this.OR={x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}))},kE:function(a){var b,d;null!=this.wz&&(this.Ps(this.wz,"oj-focus"),null!=this.OR&&(b=this.wz.offset(),d=this.cz("pointerUp"),
d.offsetX=this.OR.x-b.left+"px",d.offsetY=this.OR.y-b.top+"px",b=this.wz.children("."+this.hg()),b=0<b.length?b.get(0):this.Nf(this.wz).get(0),this.Pw(b,"pointerUp",d),this.OR=null));this.SHa=Date.now();this.cfa(a)},PF:function(){var a;a=this.V.elem;this.LF(a);this.WAa(a);0<a.find("[data-first]").length&&this.rja(!0)},yu:function(){this.rja(!1);this.LF(this.V.elem)},kT:function(a){var b,d,e,f;0===a.button&&(b=this.fp(),d=this.ft(),e=this.hg(),f=g(a.target),f.hasClass(d)?(this.Xl(a),a.preventDefault()):
f.hasClass(b)?(this.rf(a),a.preventDefault()):(b=this.Zg(f),null==b||0==b.length||this.Aj(b)||(this.ega()&&null!=this.V&&this.V.elem.get(0)!=b.get(0)&&this.yu(),this.ah().hasClass("oj-focus-ancestor")||this.ah().addClass("oj-focus-ancestor"),this.Qc()&&this.zl(b[0])?(this.en()?this.WFa(b,a):this.qsa(b,a),this.mA()&&a.target==b.get(0)&&this.VF(b),null!=this.Qf&&this.Qf.qUa()):this.q6(b,a),this.oHa(f.get(0))?this.PF():this.qD()&&f.closest("."+e)&&(this.Wh(b)==this.co?this.rf(a):this.Wh(b)==this.eo&&
this.Xl(a)))))},en:function(){return a.Q.Qe()},wHa:function(){return this.en()&&a.Ra.qm().os!=a.Ra.Cl.v7},PW:function(c){return a.Q.lt(c)},zx:function(a){return[this.element.attr("id"),a].join(":")},Zn:function(a){return g(a).closest("."+this.Hg())},fga:function(a){return a.hasClass("oj-clickthrough-disabled")},Zg:function(a,b){for(var d=a;0<d.length;){if(this.fga(d)){if(b)return d;break}if(d.hasClass(this.Hg()))return d;d=d.parent()}return null},OCa:function(){null==this.Yoa&&(this.Yoa=parseInt(this.ah().css("border-top-width"),
10)+parseInt(this.ah().css("border-bottom-width"),10));return this.Yoa},scrollToItem:function(a){a=a.key;null!=a&&(a=this.Ve(a),null!=a&&(g(a).hasClass(this.ig())?this.F0(a):(a=g(a).children("."+this.hg()).first(),this.E0(a.get(0)))))},F0:function(a){var b,d,e,f,h,k,l=0;b=a.offsetTop;d=a.offsetHeight;a=this.ah()[0];e=a.scrollTop;f=a.offsetHeight;null!=this.Lh&&(h=parseInt(this.Lh.style.top,10),k=g(this.Lh).outerHeight(),b<=h&&h<b+d?l=(d+b-h)/2:b>=h&&b<h+k&&(l=(h+k-b)/2));b>=e&&b+d<=e+f?0<l&&(a.scrollTop=
e-l):(b=Math.max(0,Math.min(b-l,Math.abs(b+d-f))),b>e&&(b+=this.OCa()),a.scrollTop=b)},sg:function(a){return this.Pf.sg(a)},Ve:function(a){var b;return null!=this.ir&&(b=this.ir[a],null!=b)?document.getElementById(b):this.Pf.Ve(a)},bA:function(a){return this.Jh()?a==this.Hl||a==this.vl||a==this.bf||a==this.Xf:a==this.Hl||a==this.vl},qs:function(){var a,b,d;null==this.BD&&(a=this.fz(),b="."+this.Hg()+":visible",this.BD=this.element.find(b).filter(function(){return(d=g(this).parent().hasClass(a))?!g(this).parent().parent().hasClass("oj-collapsed"):
!0}));return this.BD},iFa:function(a){var b=a.get(0).nextElementSibling;null!=b&&g(b).hasClass(this.Hg())||this.Pf.yl()&&a.parent().hasClass(this.kh())&&null!=a.parent().parent().get(0).nextElementSibling||(a=this.nq(),a.scrollTop<a.scrollHeight&&(a.scrollTop=a.scrollHeight))},Fw:function(a,b,d){var e,f;if(!this.Pf.cA())return!0;e=!b||this.AR?this.V.elem:this.Se;f=!1;switch(a){case this.Hl:if(this.Jh()&&g(e).hasClass(this.ig()))break;this.Kea(e,b,d);f=!0;break;case this.vl:if(this.Jh()&&g(e).hasClass(this.ig()))break;
this.Iea(e,b,d);f=!0;break;case this.bf:case this.Xf:this.Jh()&&("rtl"==this.ea.sd()&&(a=a==this.bf?this.Xf:this.bf),a==this.bf?this.Kea(e,b,d):this.Iea(e,b,d),f=!0)}return f},Iea:function(a,b,d){var e,f;e=this.qs();a=e.index(a);a++;if(a<e.length){for(f=g(e[a]);this.Aj(f);){a++;if(a==e.length)return;f=g(e[a])}b?(this.tX(f,d),this.AR=!1):(this.Bm(f,d),this.AR=!0,this.iFa(f))}},Kea:function(a,b,d){var e,f;e=this.qs();a=e.index(a);a--;if(0<=a){for(f=g(e[a]);this.Aj(f);){a--;if(0>a)return;f=g(e[a])}b?
(this.tX(f,d),this.AR=!1):(this.Bm(f,d),this.AR=!0)}},ega:function(){return"actionable"==this.spa},rja:function(a){this.spa=a?"actionable":"navigation";a||this.element[0].focus()},gVa:function(){return this.Bw},Nf:function(a){var b;return a.hasClass(this.xn())?this.mA()&&"row"==a.attr("role")?(b=a.children(".oj-listview-cell-element").first(),0==b.length?a.children().first():b):a:g(a.find("."+this.xn()).first())},zK:function(){this.element.attr("tabIndex",0)},wT:function(){this.element.removeAttr("tabIndex")},
X0:function(a){this.Nf(a).attr("tabIndex",0)},Uia:function(c){var b;b=!0;if("presentation"===c.attr("role")||a.Ra.qm().browser===a.Ra.zi.Q5)b=!1;c=this.Nf(c);b?c.removeAttr("tabIndex"):c.attr("tabIndex",-1)},r_:function(a,b){this.Bw===this.Bw?(null!=a&&this.Uia(a),this.X0(b),this.wT()):this.fta(b)},MQ:function(a){var b;b=a.children("a, input, select, textarea, button");return 1===b.length&&0===b.first().find("a, input, select, textarea, button").length?b.first():a},Zc:function(a,b,d){var e,f,g;null!=
a?(e=a[0],e=this.sg(e),null==this.V||e!=this.V.key?(f={key:e,item:a},null!=this.V&&(f.previousKey=this.V.key,f.previousItem=this.V.elem,null!=this.Qf&&this.en()&&this.Qf.dla(f.previousItem)),g=!this.Gl("beforeCurrentItem",b,f),g||(this.V=g={key:e,elem:a},null!=this.Qf&&this.en()&&this.Qf.Aja(a),void 0!==d&&d||(this.r_(f.previousItem,a),this.aA()),this.zj("currentItem",e,{_context:{originalEvent:b,kb:!0,al:{item:a}},changed:!0}))):e==this.V.key&&(this.V=g={key:e,elem:a},void 0!==d&&d||this.r_(null,
a))):this.V=null},VF:function(a){this.Bw==this.Bw&&this.Nf(a).focus()},aA:function(){var a;null!=this.V&&this.ah().hasClass("oj-focus-ancestor")&&(a=this.V.elem,this.bO(a,"oj-focus"))},vE:function(){null!=this.V&&this.Ps(this.V.elem,"oj-focus")},q6:function(a,b){var d=null!=this.V?this.V.elem.get(0):null;null==d||g(d).hasClass(this.ig())||(d=d.firstElementChild);null!=b&&null!=d&&d!=b.target&&d.contains(b.target)||this.Bm(a,b,this.mA()?b.target!=a.get(0):!0)},Bm:function(a,b,d){this.F0(a[0]);this.vE();
this.Zc(a,b);this.aA();void 0!==d&&d||this.VF(a)},Qc:function(){return"none"!=this.Kd("selectionMode")},Lo:function(){return"multiple"==this.Kd("selectionMode")},zl:function(a){a=this.Nf(g(a)).get(0);return a.hasAttribute("aria-selected")},rBa:function(a){var b,d,e;b=[];for(d=0;d<a.length&&(e=this.Ve(a[d]),null==e||!this.zl(e)||(b.push(a[d]),this.Lo()));d++);return b},INa:function(){var a,b;null!=this.ir&&(a=this,g.each(this.Kd("selection"),function(d,e){b=a.Ve(e);null!=b&&a.Ps(b,"oj-selected")}))},
bO:function(a,b){this.lE(a,b,!0)},Ps:function(a,b){this.lE(a,b,!1)},lE:function(a,b,d){var e;a=g(a);"oj-selected"==b&&this.Nf(a).attr("aria-selected",d?"true":"false");e=a.children("."+this.hg());0<e.length&&(a=g(e[0]));"oj-focus"===b?d?"actionable"!=this.spa&&this.oB(a):this.Hx(a):d?a.addClass(b):a.removeClass(b)},qsa:function(a,b){var d,e;this.F0(a[0]);d=this.PW(b);e=b.shiftKey;this.Lo()?d||e?!d&&e?this.tX(a,b):this.KV(a,b):this.qE(a,b):this.qE(a,b)},WFa:function(a,b){this.Lo()?this.KV(a,b):this.qE(a,
b)},Wl:function(a){this.INa();a&&this.zj("selection",[],{_context:{originalEvent:null,kb:!0,al:{items:g()}},changed:!0});this.Se=null},qE:function(a,b){this.Wl(!1);this.KV(a,b,[])},tX:function(a,b){var d;null!=this.V&&(d=this.Se,d!=a&&(this.Ps(a,"oj-focus"),this.nca(this.V.elem,a,b)))},nca:function(a,b,d){this.Wl(!1);this.Se=b;this.lGa(a,b,d);this.aA()},lGa:function(a,b,d){var e,f,h,k,l;e=[];f=[];h=this.qs();a=h.index(a);k=h.index(b);a>k?b=k:(b=a,a=k);for(;b<=a;b++)k=h[b],this.zl(k)&&(l=this.Pf.sg(k),
this.iF(k,l),e.push(l),f.push(k));this.zj("selection",e,{_context:{originalEvent:d,kb:!0,al:{items:g(f)}},changed:!0})},iF:function(a,b){null==this.ir&&(this.ir={});this.ir[b]=g(a).attr("id");this.bO(a,"oj-selected")},KV:function(a,b,d){var e,f;e=this.sg(a[0]);void 0==d&&(d=this.Kd("selection").slice(0));f=null!=this.V?this.V.elem.get(0):null;null==f||g(f).hasClass(this.ig())||(f=f.firstElementChild);null==b||null!=f&&f!=b.target&&f.contains(b.target)||(this.vE(),this.Zc(a,b),this.aA());f=null!=this.V?
this.V.elem.get(0):null;if(null==f||f!=a.get(0))null!=d&&0==d.length&&this.zj("selection",d,{_context:{originalEvent:b,kb:!0,al:{items:g([])}},changed:!0});else{f=d.indexOf(e);-1<f?(this.Ps(a,"oj-selected"),d.splice(f,1)):(this.Se=a,this.iF(a,e),d.push(e));a=Array(d.length);for(e=0;e<d.length;e++)a[e]=this.Ve(d[e]);this.zj("selection",d,{_context:{originalEvent:b,kb:!0,al:{items:g(a)}},changed:!0})}},BK:function(a,b,d){var e,f,h,k;e=this.Kd("selection").slice(0);f=this.V.elem;h=this.V.key;k=e.indexOf(h);
if(-1<k){if(d)return;this.Ps(f,"oj-selected");e.splice(k,1);0==e.length&&(this.Se=null)}else this.zl(f[0])&&(b||(this.Wl(!1),e.length=0),this.Se=f,this.iF(f,h),e.push(h));b=Array(e.length);for(d=0;d<e.length;d++)b[d]=this.Ve(e[d]);this.zj("selection",e,{_context:{originalEvent:a,kb:!0,al:{items:g(b)}},changed:!0})},oHa:function(a){return null!=a.nodeName.match(/^INPUT|SELECT|OPTION|TEXTAREA/)&&!a.readOnly},s6:function(a){var b,d,e,f=!1;if(null==this.V)return!1;b=a.keyCode;d=this.V.elem;this.ega()?
b==this.TS?(this.yu(),this.aA(),this.VF(d),this.X0(d),f=!0):b===this.AK&&(b=d.find("[data-first]"),d=d.find("[data-last]"),a.shiftKey?0<b.length&&0<d.length&&b!=d&&a.target==b[0]&&(d[0].focus(),f=!0):0<b.length&&0<d.length&&b!=d&&a.target==d[0]&&(b[0].focus(),f=!0)):b==this.US?(this.PF(),b=d.find("[data-first]"),0<b.length&&(b[0].focus(),d.removeClass("oj-focus-highlight"))):b==this.BT&&this.Qc()?(d=this.PW(a),(e=a.shiftKey)&&!d&&null!=this.Se&&this.Lo()?this.nca(this.Se,this.V.elem,a):this.BK(a,
d&&!e&&this.Lo(),!1),f=!0):b==this.QS&&this.Qc()?this.BK(a,!1,!0):this.bA(b)?(d=this.PW(a),e=a.shiftKey,d||(f=this.Fw(b,e&&this.Qc()&&this.Lo(),a))):b===this.AK&&(a.shiftKey?this.pAa(d):this.oAa(d));return f},kga:function(a){return a&&this.Tv?-1<this.Tv.indexOf(a):!1},lP:function(a,b){var d;if(null!=a)if(null==this.Tv&&(this.Tv=[]),b)this.Tv.push(a);else for(d=this.Tv.indexOf(a);-1<d;)this.Tv.splice(d,1),d=this.Tv.indexOf(a)},cz:function(c){var b;null==this.tma&&(b=a.vc.Hd(this.tna()),this.tma=b.animation);
return this.tma[c]},qD:function(){return"none"!=this.Kd("drillMode")},JB:function(){var a=this.Kd("expanded");if("auto"===a){if(!this.qD())return!0}else if("all"===a)return!0;return!1},V2:function(a,b,d,e,f){var h=this.Ve(a);null!=h&&this.Aw(g(h),null,f,a,b,e,d)},rf:function(a){var b=this.Zn(a.target);null!=b&&0<b.length&&this.Aw(b,a,!0,null,!0,!0,!0)},Aw:function(a,b,d,e,f,g,k){var l;if(this.Wh(a)==this.co&&(null==e&&(e=this.sg(a[0])),!d||!this.kga(e))){l={item:a,key:e};if(k&&(k=!this.Gl("beforeExpand",
b,l))&&f)return;this.bc();d&&this.lP(e,!0);this.Pf.Yz(a,function(a){this.gBa(a,d,b,l,g)}.bind(this));this.BD=null;null!=b&&b.stopPropagation();null!=this.$p&&(a=this.$p.indexOf(e),-1!=a&&this.$p.splice(a,1));this.Tb()}},gBa:function(a,b,d,e,f){var h,k,l,m=this;this.bc();a.key=e.key;b=this.IS(g(a),b,d);a=a.parentNode;a=g(a);this.Ow(a,this.eo);h=this.fp();k=this.ft();l=this.hg();a.children("."+l).find("."+h).removeClass(h).addClass(k);f&&b.then(function(){m.Gl("expand",d,e)});b.then(function(){m.Tb()})},
n$:function(a,b){var d;a.parentsUntil("ul.oj-component-initnode","ul."+this.kh()).each(function(){d=parseInt(g(this).css("maxHeight"),10);0<d&&g(this).css("maxHeight",d+b+"px")})},IS:function(a,b){var d=0,e,f,h=this,k;e=new Promise(function(a){f=a});b?(this.bc(),a.children().each(function(){d+=g(this).outerHeight(!0)}),this.en()&&this.n$(a,d),a.css("maxHeight",d+"px"),this.bc(),k=a.get(0),k=this.Pw(k,"expand"),k.then(function(){h.AEa(a,f)}),this.Tb()):(this.en()?(a.children().each(function(){d+=g(this).outerHeight(!0)}),
a.css("maxHeight",d+"px"),this.n$(a,d)):a.css("maxHeight",""),this.JS(a),f(null));return e},AEa:function(a,b){this.en()||a.css("maxHeight","");this.JS(a);b(null);this.Tb()},JS:function(a){a.removeClass(this.fz()).addClass(this.WC());this.lP(a[0].key,!1)},Wla:function(a,b,d,e){var f=this.Ve(a);null!=f&&this.Lt(g(f),null,e,a,b,d)},Xl:function(a){var b=this.Zn(a.target);null!=b&&0<b.length&&this.Lt(b,a,!0,null,!0,!0)},Lt:function(a,b,d,e,f,g){var k,l,m=this;this.Wh(a)==this.eo&&(null==e&&(e=this.sg(a[0])),
d&&this.kga(e)||(k={item:a,key:e},l=!this.Gl("beforeCollapse",b,k),l&&f||(this.bc(),d&&this.lP(e,!0),l=this.GS(a,e,d,b),this.Ow(a,this.co),d=this.fp(),f=this.ft(),a.find("."+f).first().removeClass(f).addClass(d),this.BD=null,null!=b&&b.stopPropagation(),g&&l.then(function(){m.Gl("collapse",b,k)}),void 0==this.$p&&(this.$p=[]),-1==this.$p.indexOf(e)&&this.$p.push(e),l.then(function(){m.Tb()}))))},GS:function(a,b,d){var e=0,f,h,k,l=this;h=new Promise(function(a){k=a});f=a.children("ul").first();f[0].key=
b;d?(this.bc(),f.children().each(function(){e+=g(this).outerHeight()}),f.css("maxHeight",e+"px"),a=this.cz("collapse"),a.persist="all",this.bc(),b=f.get(0),a=this.Pw(b,"collapse",a),a.then(function(){l.gEa(f,k)}),this.Tb()):(f.css("maxHeight","0px"),this.HS(f),k(null));return h},gEa:function(a,b){this.HS(a);b(null);this.Tb()},HS:function(a){a.removeClass(this.WC()).addClass(this.fz());null!=this.Pf&&this.Pf.Wz(a);this.lP(a[0].key,!1)},Iya:function(){var a;this.bc();a=this;this.qs().each(function(){a.Lt(g(this),
null,!1,null,!1,!1)});this.Tb()},getExpanded:function(){var a,b,d;a=[];b=this;this.qs().each(function(){d=g(this);b.Wh(d)==b.eo&&a.push(b.sg(d[0]))});return a},md:function(){return a.Components.md(this.element)},i6:function(){return this.wHa()?"oj-listview oj-listview-container-touch":"oj-listview oj-listview-container"},cT:function(){return"oj-listview-element"},ig:function(){return"oj-listview-item"},xn:function(){return"oj-listview-focused-element"},Hg:function(){return"oj-listview-item-element"},
hg:function(a){return a&&this.oO()&&this.pO()?"oj-listview-group-item oj-sticky":"oj-listview-group-item"},kh:function(){return"oj-listview-group"},WC:function(){return"oj-listview-collapsible-transition"},fz:function(){return this.WC()},fp:function(){return"oj-listview-collapse-icon"},ft:function(){return"oj-listview-expand-icon"},VWa:function(){return"oj-listview-no-data-message"},k3:function(){return""},tna:function(){return"oj-listview-option-defaults"},pO:function(){return this.en()&&a.Ra.qm().os===
a.Ra.Cl.jK},wJa:function(a,b){var d=b.originalEvent.wheelDelta;isNaN(d)||(0>d?a.scrollTop+a.clientHeight+Math.abs(d)>=a.scrollHeight&&(a.scrollTop=a.scrollHeight,b.preventDefault()):0>=a.scrollTop-d&&(a.scrollTop=0,b.preventDefault()))},CN:function(){var a=this.nq();return a==document.body||a==document.documentElement?window:a},tia:function(){var a=this,b;b=g(this.CN());this.ea._off(b,"scroll mousewheel");this.ea._on(b,{scroll:function(b){a.j1||a.zj("scrollTop",a.nq().scrollTop,{_context:{originalEvent:b,
kb:!0}});a.j1=!1;a.oO()&&!a.pO()&&a.hfa()}});"loadMoreOnScroll"==this.options.scrollPolicy&&this.ea._on(b,{mousewheel:function(b){a.wJa(a.nq(),b)}})},oO:function(){return"static"!=this.Kd("groupHeaderPosition")},gG:function(){var a;null==this.y4&&(a="."+this.hg()+":visible",this.y4=this.element.find(a).filter(function(){return!g(this).parent().hasClass("oj-collapsed")&&0<g(this).next().children().length?!0:!1}));return this.y4},T1:function(a){g(a).removeClass("oj-pinned");a.style.top="auto";a.style.width=
"auto"},Rda:function(a){var b;b=this.gG();a=b.index(a);return-1<a&&a<b.length-1?b[a+1]:null},iJa:function(a,b){var d,e,f;d=a.offsetWidth;e=a.offsetHeight;f=this.Rda(a);null!=f&&f.offsetTop<=b+e+5&&(b-=e);g(a).addClass("oj-pinned");a.style.top=b+"px";a.style.width=d+"px"},hfa:function(){var a,b,d,e,f,g,k,l;a=this.nq().scrollTop;if(null!=this.Lh&&0==a)this.T1(this.Lh),this.Lh=null;else{d=this.gG();e=0;null!=this.Lh&&(e=this.Lh.offsetHeight);for(f=0;f<d.length;f++)if(g=d[f],this.Lh!=g&&(k=d[f].offsetTop,
l=k+g.parentNode.offsetHeight,k<a&&l>a+e)){b=g;break}null!=b&&b!=this.Lh?(null!=this.Lh&&this.T1(this.Lh),this.iJa(b,a),this.Lh=b):null!=this.Lh&&(b=this.Rda(this.Lh),this.Lh.style.top=null!=b&&b.offsetTop<=a+e?b.offsetTop-e+"px":a+"px")}},nq:function(){var a;a=this.Kd("scrollPolicyOptions");return null!=a&&(a=a.scroller,null!=a)?a:this.ah().get(0)},E0:function(a){var b,d,e;b=this.nq();d=b.scrollTop;null!=this.Lh&&(this.T1(this.Lh),this.Lh=null);e=a.offsetTop;this.oO()&&this.pO()&&e<d&&(e=Math.max(0,
e-a.parentNode.offsetHeight+a.offsetHeight));b.scrollTop=e;this.oO()&&!this.pO()&&d==b.scrollTop&&this.hfa();this.VLa(a)},VLa:function(a){var b=this,d;g(a).next().children().each(function(){d=g(this);if(!b.Aj(d))return b.zj("currentItem",this.key),!1})}});o_("_ojListView",a.I_,a);a.ab("oj.ojListView",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",
item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,maxCount:500},scrollTop:0,selection:[],selectionMode:"none",animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,optionChange:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super();this.hb()},hb:function(){var c={};c.element=this.element;c.$d=this.$d;c.ea=this;c=g.extend(this.options,
c);this.Ja=new a.I_;this.Ja.An(c)},Qg:function(){this._super();var a=this;this.Ja.Mr=function(b){return a.Mr(b)};this.Ja.EC()},_destroy:function(){this.Ja.destroy();this._super()},hi:function(a,b,d){this.Ja.Spa(a,b,d)},_setOptions:function(a,b){var d=this.Ja.mS(a,b);this._super(a,b);d&&this.Ja.refresh()},_setOption:function(a,b,d){var e=!0;"selectionMode"==a?e="none"==b||"single"==b||"multiple"==b:"drillMode"==a?e="collapsible"==b||"none"==b:"scrollPolicy"==a?e="auto"==b||"loadMoreOnScroll"==b:"groupHeaderPosition"==
a&&(e="static"==b||"sticky"==b);if(e)"selection"==a&&(d={_context:{al:{items:g(this.Ja.uQa(b))}}}),this._super(a,b,d);else throw"Invalid value: "+b+" for key: "+a;},oo:function(){this.Ja.VR()},rk:function(){this.Ja.Tpa()},Pp:function(){this.Ja.JD()},widget:function(){return this.Ja.Rj()},refresh:function(){this._super();this.Ja.refresh()},whenReady:function(){return this.Ja.whenReady()},getNodeBySubId:function(a){return this.Ja.getNodeBySubId(a)},getSubIdByNode:function(a){return this.Ja.getSubIdByNode(a)},
getContextByNode:function(a){return this.Ja.getContextByNode(a)},getDataForVisibleItem:function(a){return this.Ja.getDataForVisibleItem(a)},expand:function(a,b){this.Ja.V2(a,b,!0,!0)},collapse:function(a,b){this.Ja.Wla(a,b,!0)},getExpanded:function(){return this.Ja.getExpanded()},getIndexerModel:function(){null==this.Doa&&a.lk&&(this.Doa=new a.lk(this.Ja));return this.Doa},scrollToItem:function(a){this.Ja.scrollToItem(a)}});(function(){var c=/^\[.*\]/;a.U.qb("oj-list-view","baseComponent",{properties:{currentItem:{type:"string"},
data:{},dnd:{type:"object",properties:{drag:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},drag:{},dragEnd:{},dragStart:{}}}}},drop:{type:"object",properties:{items:{type:"object",properties:{dataTypes:{type:"Array\x3cstring\x3e"},dragEnter:{},dragLeave:{},dragOver:{},drop:{}}}}},reorder:{type:"object",properties:{items:{type:"string",enumValues:["disabled","enabled"]}}}}},drillMode:{type:"string",enumValues:["collapsible","none"]},expanded:{type:"Array\x3cstring\x3e|string"},
groupHeaderPosition:{type:"string",enumValues:["sticky","static"]},item:{type:"object",properties:{focusable:{},renderer:{},selectable:{}}},scrollPolicy:{type:"string"},scrollPolicyOptions:{type:"object",properties:{fetchSize:{type:"number"},maxCount:{type:"number"},scroller:{}}},selection:{type:"Array\x3cstring\x3e",writeback:!0},selectionMode:{type:"string",enumValues:["none","single","multiple"]}},events:{animateEnd:{},animateStart:{},beforeCollapse:{},beforeCurrentItem:{},beforeExpand:{},collapse:{},
copy:{},cut:{},expand:{},paste:{},reorder:{}},methods:{collapse:{},expand:{},getContextByNode:{},getDataForVisibleItem:{},getExpanded:{},getIndexerModel:{},getNodeBySubId:{},getSubIdByNode:{},refresh:{},scrollToItem:{}},extension:{Rg:"ul",nb:"ojListView"}});a.U.register("oj-list-view",{metadata:a.U.getMetadata("oj-list-view"),parseFunction:function(a,d,e,f){return"expanded"==d?c.test(a)?JSON.parse(a):a:f(a)}})})()});